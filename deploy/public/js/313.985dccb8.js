"use strict";(self["webpackChunkuser_crud_and_login"]=self["webpackChunkuser_crud_and_login"]||[]).push([[313],{5313:function(e,a,o){o.r(a),o.d(a,{default:function(){return U}});var s=o(3396);const l=e=>((0,s.dD)("data-v-4f0423b0"),e=e(),(0,s.Cn)(),e),t={class:"loginPage"},r=l((()=>(0,s._)("h1",null,[(0,s._)("strong",null,"Olá visitante")],-1))),d={class:"card"},i=l((()=>(0,s._)("h2",null,"Login",-1))),n={class:"form--btns"};function u(e,a,o,l,u,m){const c=(0,s.up)("v-text-field"),p=(0,s.up)("CreateAccountDialog"),h=(0,s.up)("v-icon"),w=(0,s.up)("v-btn"),g=(0,s.up)("v-form");return(0,s.wg)(),(0,s.iD)("div",t,[r,(0,s._)("div",d,[i,(0,s.Wm)(g,{ref:"loginForm",class:"form",modelValue:u.form,"onUpdate:modelValue":a[2]||(a[2]=e=>u.form=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{variant:"outlined",label:"Email",modelValue:u.email,"onUpdate:modelValue":a[0]||(a[0]=e=>u.email=e),placeholder:"exemplo@exe.com",rules:u.emailRules,type:"email",color:"#000"},null,8,["modelValue","rules"]),(0,s.Wm)(c,{variant:"outlined","append-inner-icon":u.showPassword?"mdi-eye-off":"mdi-eye",label:"Senha",modelValue:u.password,"onUpdate:modelValue":a[1]||(a[1]=e=>u.password=e),rules:u.passwordRules,clearable:"",placeholder:"**********",type:u.showPassword?"text":"password",color:"#000","onClick:appendInner":m.toggleShowPass},null,8,["append-inner-icon","modelValue","rules","type","onClick:appendInner"]),(0,s._)("div",n,[(0,s.Wm)(p),(0,s.Wm)(w,{disabled:!u.form,color:"#ffd23a",onClick:m.validar},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{margin:"0px 10px 0px 0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-login")])),_:1}),(0,s.Uk)(" Login ")])),_:1},8,["disabled","onClick"])])])),_:1},8,["modelValue"])])])}o(7658);var m=o(1929),c=o(7139);const p=e=>((0,s.dD)("data-v-759ac3d2"),e=e(),(0,s.Cn)(),e),h={class:"card"},w=p((()=>(0,s._)("h2",null,"Cadastrar usuário",-1))),g={class:"form--btns"};function f(e,a,o,l,t,r){const d=(0,s.up)("v-icon"),i=(0,s.up)("v-btn"),n=(0,s.up)("center"),u=(0,s.up)("v-text-field"),m=(0,s.up)("v-form"),p=(0,s.up)("v-dialog");return(0,s.wg)(),(0,s.j4)(p,{transition:"dialog-bottom-transition",width:"300px"},{activator:(0,s.w5)((({props:e})=>[(0,s.Wm)(i,(0,c.vs)((0,s.F4)(e)),{default:(0,s.w5)((()=>[(0,s.Wm)(d,{style:{margin:"0px 10px 0px 0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account-plus")])),_:1}),(0,s.Uk)("Cadastrar ")])),_:2},1040)])),default:(0,s.w5)((({isActive:e})=>[(0,s._)("div",h,[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(m,{ref:"loginForm",class:"form",modelValue:t.form,"onUpdate:modelValue":a[2]||(a[2]=e=>t.form=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{variant:"outlined",label:"Email",modelValue:t.email,"onUpdate:modelValue":a[0]||(a[0]=e=>t.email=e),placeholder:"exemplo@exe.com",rules:t.emailRules,type:"email",color:"#000"},null,8,["modelValue","rules"]),(0,s.Wm)(u,{variant:"outlined","append-inner-icon":t.showPassword?"mdi-eye-off":"mdi-eye",label:"Senha",modelValue:t.password,"onUpdate:modelValue":a[1]||(a[1]=e=>t.password=e),rules:t.passwordRules,clearable:"",placeholder:"**********",type:t.showPassword?"text":"password",color:"#000","onClick:appendInner":r.toggleShowPass},null,8,["append-inner-icon","modelValue","rules","type","onClick:appendInner"]),(0,s._)("div",g,[(0,s.Wm)(i,{onClick:a=>e.value=!1},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{style:{margin:"0px 10px 0px 0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-cancel")])),_:1}),(0,s.Uk)(" Cancelar ")])),_:2},1032,["onClick"]),(0,s.Wm)(i,{disabled:!t.form,color:"#ffd23a",onClick:r.createNewUser},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{style:{margin:"0px 10px 0px 0px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account-plus")])),_:1}),(0,s.Uk)("Cadastrar ")])),_:1},8,["disabled","onClick"])])])),_:2},1032,["modelValue"])])])),_:1})}var v=o(4677),_={setup(){const e=(0,v.pm)();return{toast:e}},data(){return{form:!1,email:"",password:"",showPassword:!1,emailRules:[e=>!!e||"E-mail é obrigatório",e=>/.+@.+\..+/.test(e)||"E-mail precisa ser valido"],passwordRules:[e=>!!e||"Senha é obrigatória",e=>e&&e.length>=6||"A senha deve ser maior ou igual a 6 caracteres "]}},methods:{async createNewUser(){await m.Z.postNewUser(this.email,this.password).then((e=>{const a=e.user;this.$localStorageRemoveItem(),this.$localStorageSetItem(a.uid),this.$router.push("/register"),this.toast.success("Conta criada com sucesso")})).catch((e=>{const a=e.code,o=e.message;this.toast.error(`Código do erro: ${a}, mensagem: ${o}`)}))},toggleShowPass(){this.showPassword=!this.showPassword}}},x=o(89);const b=(0,x.Z)(_,[["render",f],["__scopeId","data-v-759ac3d2"]]);var C=b,k={components:{CreateAccountDialog:C},setup(){const e=(0,v.pm)();return{toast:e}},data(){return{form:!1,email:"",password:"",showPassword:!1,emailRules:[e=>!!e||"E-mail é obrigatório",e=>/.+@.+\..+/.test(e)||"E-mail precisa ser valido"],passwordRules:[e=>!!e||"Senha é obrigatória",e=>e&&e.length>=6||"A senha deve ser maior ou igual a 6 caracteres "]}},mounted(){this.$localStorageGetItem()&&this.$router.push("/home")},methods:{toggleShowPass(){this.showPassword=!this.showPassword},async validar(){const{valid:e}=await this.$refs.loginForm.validate();e&&m.Z.getAuth(this.email,this.password).then((e=>{const a=e.user;this.$localStorageSetItem(a.uid),this.$router.push("/home")})).catch((e=>{const a=e.code,o=e.message;this.toast.error(`Código do erro: ${a}, mensagem: ${o}`)}))}}};const V=(0,x.Z)(k,[["render",u],["__scopeId","data-v-4f0423b0"]]);var U=V}}]);
//# sourceMappingURL=313.985dccb8.js.map